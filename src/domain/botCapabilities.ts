import { CapabilityFuzzyMatcher } from '../config/vocabulary/capabilityFuzzyMatcher';

export interface BotCapability {
  id: string;
  name: string;
  nameUk: string;
  description: string;
  descriptionUk: string;
  examples: string[];
  examplesUk: string[];
  category: 'conversation' | 'entertainment' | 'moderation' | 'utility' | 'social';
}

export class BotCapabilities {
  private fuzzyMatcher: CapabilityFuzzyMatcher;
  private capabilities: BotCapability[] = [
    {
      id: 'ukrainian_conversation',
      name: 'Ukrainian Conversations',
      nameUk: '–£–∫—Ä–∞—ó–Ω—Å—å–∫—ñ —Ä–æ–∑–º–æ–≤–∏',
      description: 'Natural conversations in Ukrainian with context awareness',
      descriptionUk: '–ü—Ä–∏—Ä–æ–¥–Ω—ñ —Ä–æ–∑–º–æ–≤–∏ —É–∫—Ä–∞—ó–Ω—Å—å–∫–æ—é –∑ —Ä–æ–∑—É–º—ñ–Ω–Ω—è–º –∫–æ–Ω—Ç–µ–∫—Å—Ç—É',
      examples: [
        '@bot –ü—Ä–∏–≤—ñ—Ç! –Ø–∫ —Å–ø—Ä–∞–≤–∏?',
        '–†–æ–∑–∫–∞–∂–∏ —â–æ—Å—å —Ü—ñ–∫–∞–≤–µ',
        '–Ø–∫ —Ç–≤–æ—ó —Å–ø—Ä–∞–≤–∏?'
      ],
      examplesUk: [
        '@bot –ü—Ä–∏–≤—ñ—Ç! –Ø–∫ —Å–ø—Ä–∞–≤–∏?',
        '–†–æ–∑–∫–∞–∂–∏ —â–æ—Å—å —Ü—ñ–∫–∞–≤–µ',
        '–Ø–∫ —Ç–≤–æ—ó —Å–ø—Ä–∞–≤–∏?'
      ],
      category: 'conversation'
    },
    {
      id: 'jokes_and_stories',
      name: 'Jokes and Stories',
      nameUk: '–ñ–∞—Ä—Ç–∏ —Ç–∞ —ñ—Å—Ç–æ—Ä—ñ—ó',
      description: 'Ukrainian jokes, funny stories, and entertaining content',
      descriptionUk: '–£–∫—Ä–∞—ó–Ω—Å—å–∫—ñ –∂–∞—Ä—Ç–∏, —Å–º—ñ—à–Ω—ñ —ñ—Å—Ç–æ—Ä—ñ—ó —Ç–∞ —Ä–æ–∑–≤–∞–∂–∞–ª—å–Ω–∏–π –∫–æ–Ω—Ç–µ–Ω—Ç',
      examples: [
        'Tell me a joke',
        '–†–æ–∑–∫–∞–∂–∏ –∂–∞—Ä—Ç',
        '–†–æ–∑–∫–∞–∂–∏ —ñ—Å—Ç–æ—Ä—ñ—é'
      ],
      examplesUk: [
        '–†–æ–∑–∫–∞–∂–∏ –∂–∞—Ä—Ç',
        '–†–æ–∑–∫–∞–∂–∏ —ñ—Å—Ç–æ—Ä—ñ—é',
        '–•–æ—á—É –ø–æ—á—É—Ç–∏ —â–æ—Å—å —Å–º—ñ—à–Ω–µ'
      ],
      category: 'entertainment'
    },
    {
      id: 'meme_generation',
      name: 'Meme Generation',
      nameUk: '–ì–µ–Ω–µ—Ä–∞—Ü—ñ—è –º–µ–º—ñ–≤',
      description: 'Create text-based and image memes with Ukrainian cultural context',
      descriptionUk: '–°—Ç–≤–æ—Ä–µ–Ω–Ω—è —Ç–µ–∫—Å—Ç–æ–≤–∏—Ö —Ç–∞ –≥—Ä–∞—Ñ—ñ—á–Ω–∏—Ö –º–µ–º—ñ–≤ –∑ —É–∫—Ä–∞—ó–Ω—Å—å–∫–∏–º –∫—É–ª—å—Ç—É—Ä–Ω–∏–º –∫–æ–Ω—Ç–µ–∫—Å—Ç–æ–º',
      examples: [
        '/meme —Ç–æ–ø —Ç–µ–∫—Å—Ç | –Ω–∏–∑ —Ç–µ–∫—Å—Ç',
        '—Å—Ç–≤–æ—Ä–∏ –º–µ–º –ø—Ä–æ –∫–æ–¥',
        'make meme about coffee'
      ],
      examplesUk: [
        '/meme —Ç–æ–ø —Ç–µ–∫—Å—Ç | –Ω–∏–∑ —Ç–µ–∫—Å—Ç',
        '—Å—Ç–≤–æ—Ä–∏ –º–µ–º –ø—Ä–æ –∫–æ–¥',
        '–∑—Ä–æ–±–∏ –º–µ–º –ø—Ä–æ –∫–∞–≤—É'
      ],
      category: 'entertainment'
    },
    {
      id: 'sentiment_reactions',
      name: 'Smart Emoji Reactions',
      nameUk: '–†–æ–∑—É–º–Ω—ñ –µ–º–æ–¥–∑—ñ-—Ä–µ–∞–∫—Ü—ñ—ó',
      description: 'Automatic emoji reactions based on message sentiment and context',
      descriptionUk: '–ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω—ñ –µ–º–æ–¥–∑—ñ-—Ä–µ–∞–∫—Ü—ñ—ó –Ω–∞ –æ—Å–Ω–æ–≤—ñ –Ω–∞—Å—Ç—Ä–æ—é —Ç–∞ –∫–æ–Ω—Ç–µ–∫—Å—Ç—É –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è',
      examples: [
        '–¶–µ —á—É–¥–æ–≤–∞ –Ω–æ–≤–∏–Ω–∞! üéâ',
        '–°—å–æ–≥–æ–¥–Ω—ñ –≤–∞–∂–∫–∏–π –¥–µ–Ω—å... üò¢',
        '–ü–æ—Ç—É–∂–Ω–æ! ‚ö°'
      ],
      examplesUk: [
        '–¶–µ —á—É–¥–æ–≤–∞ –Ω–æ–≤–∏–Ω–∞! üéâ',
        '–°—å–æ–≥–æ–¥–Ω—ñ –≤–∞–∂–∫–∏–π –¥–µ–Ω—å... üò¢',
        '–ü–æ—Ç—É–∂–Ω–æ! ‚ö°'
      ],
      category: 'social'
    },
    {
      id: 'content_moderation',
      name: 'Content Moderation',
      nameUk: '–ú–æ–¥–µ—Ä–∞—Ü—ñ—è –∫–æ–Ω—Ç–µ–Ω—Ç—É',
      description: 'Automatic detection and witty responses to inappropriate content',
      descriptionUk: '–ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–µ –≤–∏—è–≤–ª–µ–Ω–Ω—è —Ç–∞ –¥–æ—Ç–µ–ø–Ω—ñ –≤—ñ–¥–ø–æ–≤—ñ–¥—ñ –Ω–∞ –Ω–µ–ø—Ä–∏–π–Ω—è—Ç–Ω–∏–π –∫–æ–Ω—Ç–µ–Ω—Ç',
      examples: [
        'Detects offensive language',
        'Responds with Ukrainian humor',
        'Maintains positive atmosphere'
      ],
      examplesUk: [
        '–í–∏—è–≤–ª—è—î –æ–±—Ä–∞–∑–ª–∏–≤—ñ —Å–ª–æ–≤–∞',
        '–í—ñ–¥–ø–æ–≤—ñ–¥–∞—î —É–∫—Ä–∞—ó–Ω—Å—å–∫–∏–º –≥—É–º–æ—Ä–æ–º',
        '–ü—ñ–¥—Ç—Ä–∏–º—É—î –ø–æ–∑–∏—Ç–∏–≤–Ω—É –∞—Ç–º–æ—Å—Ñ–µ—Ä—É'
      ],
      category: 'moderation'
    },
    {
      id: 'user_roles',
      name: 'User Role Assignment',
      nameUk: '–ü—Ä–∏–∑–Ω–∞—á–µ–Ω–Ω—è —Ä–æ–ª–µ–π –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞–º',
      description: 'Assigns fun Ukrainian roles based on user behavior patterns',
      descriptionUk: '–ü—Ä–∏–∑–Ω–∞—á–∞—î –≤–µ—Å–µ–ª—ñ —É–∫—Ä–∞—ó–Ω—Å—å–∫—ñ —Ä–æ–ª—ñ –Ω–∞ –æ—Å–Ω–æ–≤—ñ –ø–æ–≤–µ–¥—ñ–Ω–∫–∏ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ–≤',
      examples: [
        'üé≠ –ú–µ–º –õ–æ—Ä–¥ - for funny content',
        '‚ö° –ï–Ω–µ—Ä–¥–∂–∞–π–∑–µ—Ä - for energetic messages',
        'üß† –ß–∞—Ç –ú—É–¥—Ä–µ—Ü—å - for wise insights'
      ],
      examplesUk: [
        'üé≠ –ú–µ–º –õ–æ—Ä–¥ - –∑–∞ —Å–º—ñ—à–Ω–∏–π –∫–æ–Ω—Ç–µ–Ω—Ç',
        '‚ö° –ï–Ω–µ—Ä–¥–∂–∞–π–∑–µ—Ä - –∑–∞ –µ–Ω–µ—Ä–≥—ñ–π–Ω—ñ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è',
        'üß† –ß–∞—Ç –ú—É–¥—Ä–µ—Ü—å - –∑–∞ –º—É–¥—Ä—ñ –¥—É–º–∫–∏'
      ],
      category: 'social'
    },
    {
      id: 'atmosphere_enhancement',
      name: 'Chat Atmosphere Enhancement',
      nameUk: '–ü–æ–∫—Ä–∞—â–µ–Ω–Ω—è –∞—Ç–º–æ—Å—Ñ–µ—Ä–∏ —á–∞—Ç—É',
      description: 'Automatically engages during quiet periods to maintain chat activity',
      descriptionUk: '–ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –∑–∞–ª—É—á–∞—î—Ç—å—Å—è –ø—ñ–¥ —á–∞—Å —Ç–∏—Ö–∏—Ö –ø–µ—Ä—ñ–æ–¥—ñ–≤ –¥–ª—è –ø—ñ–¥—Ç—Ä–∏–º–∫–∏ –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—ñ —á–∞—Ç—É',
      examples: [
        'Starts conversations during quiet moments',
        'Suggests topics and games',
        'Encourages user interaction'
      ],
      examplesUk: [
        '–ü–æ—á–∏–Ω–∞—î —Ä–æ–∑–º–æ–≤–∏ –ø—ñ–¥ —á–∞—Å —Ç–∏—Ö–∏—Ö –º–æ–º–µ–Ω—Ç—ñ–≤',
        '–ü—Ä–æ–ø–æ–Ω—É—î —Ç–µ–º–∏ —Ç–∞ —ñ–≥—Ä–∏',
        '–ó–∞–æ—Ö–æ—á—É—î –≤–∑–∞—î–º–æ–¥—ñ—é –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ–≤'
      ],
      category: 'social'
    },
    {
      id: 'learning_adaptation',
      name: 'Adaptive Learning',
      nameUk: '–ê–¥–∞–ø—Ç–∏–≤–Ω–µ –Ω–∞–≤—á–∞–Ω–Ω—è',
      description: 'Learns from user feedback and adapts responses over time',
      descriptionUk: '–í—á–∏—Ç—å—Å—è –∑ –≤—ñ–¥–≥—É–∫—ñ–≤ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ–≤ —Ç–∞ –∞–¥–∞–ø—Ç—É—î –≤—ñ–¥–ø–æ–≤—ñ–¥—ñ –∑ —á–∞—Å–æ–º',
      examples: [
        'Improves reaction accuracy',
        'Adapts to chat preferences',
        'Remembers conversation context'
      ],
      examplesUk: [
        '–ü–æ–∫—Ä–∞—â—É—î —Ç–æ—á–Ω—ñ—Å—Ç—å —Ä–µ–∞–∫—Ü—ñ–π',
        '–ê–¥–∞–ø—Ç—É—î—Ç—å—Å—è –¥–æ —É–ø–æ–¥–æ–±–∞–Ω—å —á–∞—Ç—É',
        "–ó–∞–ø–∞–º'—è—Ç–æ–≤—É—î –∫–æ–Ω—Ç–µ–∫—Å—Ç —Ä–æ–∑–º–æ–≤"
      ],
      category: 'utility'
    },
    {
      id: 'multilingual_support',
      name: 'Multilingual Support',
      nameUk: '–ü—ñ–¥—Ç—Ä–∏–º–∫–∞ –±–∞–≥–∞—Ç—å–æ—Ö –º–æ–≤',
      description: 'Supports Ukrainian (primary) and English with automatic language detection',
      descriptionUk: '–ü—ñ–¥—Ç—Ä–∏–º—É—î —É–∫—Ä–∞—ó–Ω—Å—å–∫—É (–æ—Å–Ω–æ–≤–Ω—É) —Ç–∞ –∞–Ω–≥–ª—ñ–π—Å—å–∫—É –∑ –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–∏–º –≤–∏–∑–Ω–∞—á–µ–Ω–Ω—è–º –º–æ–≤–∏',
      examples: [
        '–ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –≤–∏–∑–Ω–∞—á–∞—î –º–æ–≤—É',
        'Ukrainian-first approach',
        'English fallback support'
      ],
      examplesUk: [
        '–ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –≤–∏–∑–Ω–∞—á–∞—î –º–æ–≤—É',
        '–£–∫—Ä–∞—ó–Ω—Å—å–∫–∏–π –ø—ñ–¥—Ö—ñ–¥ –Ω–∞—Å–∞–º–ø–µ—Ä–µ–¥',
        '–ü—ñ–¥—Ç—Ä–∏–º–∫–∞ –∞–Ω–≥–ª—ñ–π—Å—å–∫–æ—ó —è–∫ –∑–∞–ø–∞—Å–Ω–æ—ó'
      ],
      category: 'utility'
    },
    {
      id: 'help_and_support',
      name: 'Help and Support',
      nameUk: '–î–æ–ø–æ–º–æ–≥–∞ —Ç–∞ –ø—ñ–¥—Ç—Ä–∏–º–∫–∞',
      description: 'Provides help information and emotional support to users',
      descriptionUk: '–ù–∞–¥–∞—î –¥–æ–≤—ñ–¥–∫–æ–≤—É —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—é —Ç–∞ –µ–º–æ—Ü—ñ–π–Ω—É –ø—ñ–¥—Ç—Ä–∏–º–∫—É –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞–º',
      examples: [
        '–î–æ–ø–æ–º–æ–∂–∏ –º–µ–Ω—ñ',
        '–©–æ —Ç–∏ –º–æ–∂–µ—à?',
        '–ü–æ—Ç—Ä—ñ–±–Ω–∞ –ø—ñ–¥—Ç—Ä–∏–º–∫–∞'
      ],
      examplesUk: [
        '–î–æ–ø–æ–º–æ–∂–∏ –º–µ–Ω—ñ',
        '–©–æ —Ç–∏ –º–æ–∂–µ—à?',
        '–ü–æ—Ç—Ä—ñ–±–Ω–∞ –ø—ñ–¥—Ç—Ä–∏–º–∫–∞'
      ],
      category: 'utility'
    },
    {
      id: 'ukrainian_news',
      name: 'Ukrainian News',
      nameUk: '–£–∫—Ä–∞—ó–Ω—Å—å–∫—ñ –Ω–æ–≤–∏–Ω–∏',
      description: 'Real-time news monitoring and daily summaries from Ukrainian sources',
      descriptionUk: '–ú–æ–Ω—ñ—Ç–æ—Ä–∏–Ω–≥ –Ω–æ–≤–∏–Ω —É —Ä–µ–∞–ª—å–Ω–æ–º—É —á–∞—Å—ñ —Ç–∞ —â–æ–¥–µ–Ω–Ω—ñ –∑–≤–æ–¥–∫–∏ –∑ —É–∫—Ä–∞—ó–Ω—Å—å–∫–∏—Ö –¥–∂–µ—Ä–µ–ª',
      examples: [
        '–Ø–∫—ñ –Ω–æ–≤–∏–Ω–∏?',
        '–©–æ –Ω–æ–≤–æ–≥–æ –≤ —Å–≤—ñ—Ç—ñ?',
        '–†–æ–∑–∫–∞–∂–∏ –æ—Å—Ç–∞–Ω–Ω—ñ –Ω–æ–≤–∏–Ω–∏',
        '–©–æ –≤—ñ–¥–±—É–≤–∞—î—Ç—å—Å—è –≤ –£–∫—Ä–∞—ó–Ω—ñ?'
      ],
      examplesUk: [
        '–Ø–∫—ñ –Ω–æ–≤–∏–Ω–∏?',
        '–©–æ –Ω–æ–≤–æ–≥–æ –≤ —Å–≤—ñ—Ç—ñ?',
        '–†–æ–∑–∫–∞–∂–∏ –æ—Å—Ç–∞–Ω–Ω—ñ –Ω–æ–≤–∏–Ω–∏',
        '–©–æ –≤—ñ–¥–±—É–≤–∞—î—Ç—å—Å—è –≤ –£–∫—Ä–∞—ó–Ω—ñ?',
        '–©–æ —Ç–≤–æ—Ä–∏—Ç—å—Å—è?',
        '–°–≤—ñ–∂—ñ –Ω–æ–≤–∏–Ω–∏'
      ],
      category: 'utility'
    },
    {
      id: 'weather_ukraine',
      name: 'Ukrainian Weather',
      nameUk: '–ü–æ–≥–æ–¥–∞ –≤ –£–∫—Ä–∞—ó–Ω—ñ',
      description: 'Weather information and alerts for Ukrainian cities',
      descriptionUk: '–Ü–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—è –ø—Ä–æ –ø–æ–≥–æ–¥—É —Ç–∞ –ø–æ–ø–µ—Ä–µ–¥–∂–µ–Ω–Ω—è –¥–ª—è —É–∫—Ä–∞—ó–Ω—Å—å–∫–∏—Ö –º—ñ—Å—Ç',
      examples: [
        '–Ø–∫–∞ –ø–æ–≥–æ–¥–∞?',
        '–ü–æ–≥–æ–¥–∞ –≤ –ö–∏—î–≤—ñ',
        '–Ø–∫–∞ —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä–∞?',
        '–ß–∏ –±—É–¥–µ –¥–æ—â?'
      ],
      examplesUk: [
        '–Ø–∫–∞ –ø–æ–≥–æ–¥–∞?',
        '–ü–æ–≥–æ–¥–∞ –≤ –ö–∏—î–≤—ñ',
        '–Ø–∫–∞ —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä–∞?',
        '–ß–∏ –±—É–¥–µ –¥–æ—â?',
        '–Ø–∫ –Ω–∞ –≤—É–ª–∏—Ü—ñ?',
        '–ü–æ–≥–æ–¥–∞ —Å—å–æ–≥–æ–¥–Ω—ñ'
      ],
      category: 'utility'
    },
    {
      id: 'morning_summary',
      name: 'Morning News Summary',
      nameUk: '–†–∞–Ω–∫–æ–≤–∞ –∑–≤–æ–¥–∫–∞ –Ω–æ–≤–∏–Ω',
      description: 'Daily morning summaries with news and weather delivered automatically',
      descriptionUk: '–©–æ–¥–µ–Ω–Ω—ñ —Ä–∞–Ω–∫–æ–≤—ñ –∑–≤–æ–¥–∫–∏ –∑ –Ω–æ–≤–∏–Ω–∞–º–∏ —Ç–∞ –ø–æ–≥–æ–¥–æ—é, —â–æ –¥–æ—Å—Ç–∞–≤–ª—è—é—Ç—å—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ',
      examples: [
        '–ü—ñ–¥–ø–∏—Å–∞—Ç–∏—Å—è –Ω–∞ —Ä–∞–Ω–∫–æ–≤—ñ –Ω–æ–≤–∏–Ω–∏',
        '–•–æ—á—É —â–æ–¥–µ–Ω–Ω—ñ –∑–≤–æ–¥–∫–∏',
        '–í—ñ–¥–ø–∏—Å–∞—Ç–∏—Å—è –≤—ñ–¥ –Ω–æ–≤–∏–Ω'
      ],
      examplesUk: [
        '–ü—ñ–¥–ø–∏—Å–∞—Ç–∏—Å—è –Ω–∞ —Ä–∞–Ω–∫–æ–≤—ñ –Ω–æ–≤–∏–Ω–∏',
        '–•–æ—á—É —â–æ–¥–µ–Ω–Ω—ñ –∑–≤–æ–¥–∫–∏',
        '–ü—ñ–¥–ø–∏—Å–∫–∞ –Ω–∞ –Ω–æ–≤–∏–Ω–∏',
        '–í—ñ–¥–ø–∏—Å–∞—Ç–∏—Å—è –≤—ñ–¥ –Ω–æ–≤–∏–Ω',
        '–†–∞–Ω–∫–æ–≤—ñ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è'
      ],
      category: 'utility'
    },
    {
      id: 'critical_alerts',
      name: 'Critical News Alerts',
      nameUk: '–ö—Ä–∏—Ç–∏—á–Ω—ñ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è',
      description: 'Instant notifications about critical events, emergencies, and important news',
      descriptionUk: '–ú–∏—Ç—Ç—î–≤—ñ —Å–ø–æ–≤—ñ—â–µ–Ω–Ω—è –ø—Ä–æ –∫—Ä–∏—Ç–∏—á–Ω—ñ –ø–æ–¥—ñ—ó, –Ω–∞–¥–∑–≤–∏—á–∞–π–Ω—ñ —Å–∏—Ç—É–∞—Ü—ñ—ó —Ç–∞ –≤–∞–∂–ª–∏–≤—ñ –Ω–æ–≤–∏–Ω–∏',
      examples: [
        '–ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω—ñ —Å–ø–æ–≤—ñ—â–µ–Ω–Ω—è –ø—Ä–æ:',
        '‚Ä¢ –ù–∞–¥–∑–≤–∏—á–∞–π–Ω—ñ —Å–∏—Ç—É–∞—Ü—ñ—ó',
        '‚Ä¢ –í–∞–∂–ª–∏–≤—ñ –ø–æ–ª—ñ—Ç–∏—á–Ω—ñ –ø–æ–¥—ñ—ó',
        '‚Ä¢ –ö—Ä–∏—Ç–∏—á–Ω—ñ –ø–æ–≥–æ–¥–Ω—ñ —É–º–æ–≤–∏'
      ],
      examplesUk: [
        '–ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω—ñ —Å–ø–æ–≤—ñ—â–µ–Ω–Ω—è –ø—Ä–æ:',
        '‚Ä¢ –ù–∞–¥–∑–≤–∏—á–∞–π–Ω—ñ —Å–∏—Ç—É–∞—Ü—ñ—ó',
        '‚Ä¢ –í–∞–∂–ª–∏–≤—ñ –ø–æ–ª—ñ—Ç–∏—á–Ω—ñ –ø–æ–¥—ñ—ó',
        '‚Ä¢ –ö—Ä–∏—Ç–∏—á–Ω—ñ –ø–æ–≥–æ–¥–Ω—ñ —É–º–æ–≤–∏',
        '‚Ä¢ –ï–∫—Å—Ç—Ä–µ–Ω—ñ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è'
      ],
      category: 'utility'
    }
  ];

  constructor() {
    this.fuzzyMatcher = new CapabilityFuzzyMatcher();
  }

  // Keywords that trigger the capabilities display
  private capabilityTriggers = {
    uk: [

      // –ü—Ä—è–º—ñ –∑–∞–ø–∏—Ç–∏ –ø—Ä–æ –º–æ–∂–ª–∏–≤–æ—Å—Ç—ñ
      '—â–æ —Ç–∏ –º–æ–∂–µ—à', '—â–æ –º–æ–∂–µ—à', '–º–æ–∂–ª–∏–≤–æ—Å—Ç—ñ', '—Ñ—É–Ω–∫—Ü—ñ—ó', '–∫–æ–º–∞–Ω–¥–∏', '—â–æ –≤–º—ñ—î—à', '—è–∫—ñ —Ñ—É–Ω–∫—Ü—ñ—ó',
      '—â–æ —Ä–æ–±–∏—à', '—Ç–≤–æ—ó –º–æ–∂–ª–∏–≤–æ—Å—Ç—ñ', '—Å–ø–∏—Å–æ–∫ –∫–æ–º–∞–Ω–¥', '–¥–æ–ø–æ–º–æ–≥–∞', 'help', '—â–æ —Ç–∏ –≤–º—ñ—î—à —Ä–æ–±–∏—Ç–∏',
      '—Ä–æ–∑–∫–∞–∂–∏ –ø—Ä–æ —Å–µ–±–µ', '—â–æ —Ç–∏ —É–º—ñ—î—à', '–ø–æ–∫–∞–∂–∏ –∫–æ–º–∞–Ω–¥–∏', '—â–æ —Ç–∏ –º–æ–∂–µ—à –∑—Ä–æ–±–∏—Ç–∏', '—â–æ –º–æ–∂–µ—à —Ä–æ–±–∏—Ç–∏',
      '—è–∫—ñ —É —Ç–µ–±–µ –º–æ–∂–ª–∏–≤–æ—Å—Ç—ñ', '—è–∫—ñ —Ç–≤–æ—ó —Ñ—É–Ω–∫—Ü—ñ—ó', '—â–æ –≤ —Ç–µ–±–µ —î', '—â–æ —Ç–∏ –∑–Ω–∞—î—à', '—á–æ–º—É —Ç–∏ –Ω–∞–≤—á–µ–Ω–∏–π',
      '—â–æ —Ç–∏ –º–æ–∂–µ—à –º–µ–Ω—ñ –¥–∞—Ç–∏',

      // –ù–µ—Ñ–æ—Ä–º–∞–ª—å–Ω—ñ –≤–∞—Ä—ñ–∞–Ω—Ç–∏
      '–∞ —â–æ —Ç–∏ —Ç–∞–∫–∏–π', '—Ö—Ç–æ —Ç–∏ —Ç–∞–∫–∏–π', '—â–æ –∑–∞ –±–æ—Ç', '—è–∫–∏–π —Ç–∏ –±–æ—Ç', '–ø–æ–∫–∞–∂–∏ —â–æ –º–æ–∂–µ—à',
      '—â–æ —Ç–∏ –∑–∞ —à—Ç—É–∫–∞', '—è–∫–∏—Ö —Ç–∏ –º–æ–∂–µ—à', '—Ä–æ–∑–∫–∞–∂–∏ —â–æ —Ç–∏ –≤–º—ñ—î—à', '—â–æ –≤ —Ç–µ–±–µ —Ü—ñ–∫–∞–≤–æ–≥–æ',
      '—á–∏–º –º–æ–∂–µ—à –¥–æ–ø–æ–º–æ–≥—Ç–∏',

      // –Ü–Ω—Å—Ç—Ä—É–∫—Ü—ñ—ó
      '—è–∫ —Ç–µ–±–µ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—Ç–∏—Å—è', '—è–∫ –∑ —Ç–æ–±–æ—é –ø—Ä–∞—Ü—é–≤–∞—Ç–∏', '—â–æ –∑ —Ç–æ–±–æ—é —Ä–æ–±–∏—Ç–∏', '—è–∫ —Ç–µ–±–µ –≤–∏–∫–ª–∏–∫–∞—Ç–∏',
      '—è–∫ –¥–æ —Ç–µ–±–µ –∑–≤–µ—Ä–Ω—É—Ç–∏—Å—è', '–¥–µ —Ç–≤–æ—ó –∫–æ–º–∞–Ω–¥–∏', '—ñ–Ω—Å—Ç—Ä—É–∫—Ü—ñ—è', '–º–∞–Ω—É–∞–ª', '–∫–µ—Ä—ñ–≤–Ω–∏—Ü—Ç–≤–æ', '–¥–æ–≤—ñ–¥–∫–∞',
      '—è–∫ —Ç–æ–±–æ—é –∫–æ—Ä–∏—Å—Ç—É–≤–∞—Ç–∏—Å—å', '—è–∫ —Ç–µ–±–µ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏', '—è–∫ —Ç–µ–±–µ –ø–∏—Ç–∞—Ç–∏', '—â–æ —Ä–æ–±–∏—Ç–∏ –∑ —Ç–æ–±–æ—é',
      'faq', '–ø—ñ–¥–∫–∞–∂–∏ —â–æ –≤–º—ñ—î—à', '—è–∫ —Ç–µ–±–µ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞—Ç–∏',

      // –ü—Ä–æ –Ω–∞–≤–∏—á–∫–∏
      '—è–∫—ñ —Ç–≤–æ—ó –Ω–∞–≤–∏—á–∫–∏', '—â–æ —Ç–∏ –≤–∏–≤—á–∏–≤', '—è–∫—ñ —É —Ç–µ–±–µ –∑–¥—ñ–±–Ω–æ—Å—Ç—ñ', '—â–æ —Ç–∏ —Ä–æ–∑—É–º—ñ—î—à',
      '–∑ —á–∏–º –º–æ–∂–µ—à –¥–æ–ø–æ–º–æ–≥—Ç–∏', '—â–æ –≤—Ö–æ–¥–∏—Ç—å –≤ —Ç–≤–æ—ó –æ–±–æ–≤\'—è–∑–∫–∏', '—á–∏–º –∑–∞–π–º–∞—î—à—Å—è', '–¥–ª—è —á–æ–≥–æ —Ç–∏ —Ç—É—Ç',
      '—è–∫—ñ —Ç–≤–æ—ó –≤–º—ñ–Ω–Ω—è', '–Ω–∞ —â–æ —Ç–∏ –∑–¥–∞—Ç–µ–Ω', '—â–æ –≤—Ö–æ–¥–∏—Ç—å –≤ —Ç–≤–æ—ó —Ñ—É–Ω–∫—Ü—ñ—ó',

      // –ü—Ä–æ –ø—Ä–∏–∑–Ω–∞—á–µ–Ω–Ω—è
      '–¥–ª—è —á–æ–≥–æ —Ç–∏', '—â–æ —Ç–∏ —Ä–æ–±–∏—à', '–Ω–∞–≤—ñ—â–æ —Ç–∏ —Ç—É—Ç', '—è–∫–µ —Ç–≤–æ—î –ø—Ä–∏–∑–Ω–∞—á–µ–Ω–Ω—è', '—â–æ —Ç–∏ —Ç—É—Ç —Ä–æ–±–∏—à',
      '–Ω–∞–≤—ñ—â–æ —Ç–∏ —Å—Ç–≤–æ—Ä–µ–Ω–∏–π', '–≤ —á–æ–º—É —Å–µ–Ω—Å —Ç–µ–±–µ',

      // –ó–Ω–∞–π–æ–º—Å—Ç–≤–æ
      '—Ö—Ç–æ —Ç–∏', '–ø—Ä–µ–¥—Å—Ç–∞–≤—Å—è', '—Ä–æ–∑–∫–∞–∂–∏ –ø—Ä–æ —Å–µ–±–µ', '–ø–æ–∑–Ω–∞–π–æ–º—Å—è', '–ø–æ—è—Å–Ω–∏ —â–æ —Ç–∏ —Ä–æ–±–∏—à', '–æ–ø–∏—à–∏ —Å–µ–±–µ',
      '—Ä–æ–∑–∫–∞–∂–∏ —Ö—Ç–æ —Ç–∏', '—Ö—Ç–æ —Ç–∏ —Ç–∞–∫–∏–π', '—â–æ —Ü–µ –∑–∞ –±–æ—Ç', '—â–æ —Ç–∏ –∑–∞ —à—Ç—É–∫–∞', '—â–æ —Ç–∏ –∑–∞ –ø—Ä–æ–≥—Ä–∞–º–∞',

      // –ú–æ–ª–æ–¥—ñ–∂–Ω–µ / –°–ª–µ–Ω–≥ / –°—É—Ä–∂–∏–∫
      '—à–æ –º–æ–∂–µ—à', '—à–æ –≤–º—ñ—î—à', '—à–æ —Ä–æ–±–∏—à', '—à–æ –∑–∞ –±–æ—Ç', '—à–æ –∑–∞ —Ñ—É–Ω–∫—Ü—ñ—ó', '—â–æ –ø–æ —Ñ—É–Ω–∫—Ü—ñ—è–º',
      '—â–æ –ø–æ –º–æ–∂–ª–∏–≤–æ—Å—Ç—è–º', '—â–æ –ø–æ –∫–æ–º–∞–Ω–¥–∞–º', '—è–∫—ñ —Ñ—ñ—á—ñ', '—Ñ—ñ—á—ñ —î', '—è–∫—ñ —Å–∫—ñ–ª–∑–∏', '–ø–æ–∫–∞–∂–∏ —Ñ—ñ—á—ñ',
      '–ø–æ–∫–∞–∂–∏ —â–æ –º–æ–∂–µ—à', '–ø–æ–∫–∞–∂–∏ –∑–¥—ñ–±–Ω–æ—Å—Ç—ñ', '–ø–æ–∫–∞–∂–∏ —Å–∫—ñ–ª–∑–∏', '—è–∫—ñ –∑–¥—ñ–±–∫–∏', '—è–∫—ñ –Ω–∞–≤–∏–∫–∏',
      '—à–æ —Ç–∏ —à–∞—Ä–∏—à', '—à–æ —Ç–∏ –≤–º—ñ—î—à –∑—Ä–æ–±–∏—Ç—å', '—à–æ –≤ —Ç–µ–±–µ —î', '—à–æ –≤ —Ç–µ–±–µ –∑–∞–ª–æ–∂–µ–Ω–æ', '—â–æ –≤ —Ç–µ–±–µ —Ü—ñ–∫–∞–≤–æ–≥–æ',
      '—à–æ —Ç–∏ –º–æ–∂–µ—à', '–ø–æ–∫–∞–∂–∏ —à–æ —Ç–∏ –º–æ–∂–µ—à', '–ø–æ–∫–∞–∂–∏ —à–æ –º–æ–∂–µ—à', '—à–æ —Ç–∏ –≤–º—ñ—î—à', '—à–æ —É–º—ñ—î—à',
      '—à–æ –∑–∞ —Ñ—ñ—á—ñ', '—à–æ –∑–∞ –º–æ–∂–ª–∏–≤–æ—Å—Ç—ñ', '—à–æ –≤ —Ç–µ–±–µ –Ω–æ–≤–æ–≥–æ', '—à–æ —Ü—ñ–∫–∞–≤–æ–≥–æ',

      // –í–∞—Ä—ñ–∞–Ω—Ç–∏ –∑ "–±–æ—Ç"
      '–±–æ—Ç —â–æ —Ç–∏ –º–æ–∂–µ—à', '–±–æ—Ç –ø–æ–∫–∞–∂–∏ –º–æ–∂–ª–∏–≤–æ—Å—Ç—ñ', '–±–æ—Ç —è–∫—ñ —Ñ—É–Ω–∫—Ü—ñ—ó', '–±–æ—Ç —â–æ –≤–º—ñ—î—à',
      '–±–æ—Ç —Ä–æ–∑–∫–∞–∂–∏ –ø—Ä–æ —Å–µ–±–µ', '–±–æ—Ç —â–æ –∑–∞ –∫–æ–º–∞–Ω–¥–∏', '–±–æ—Ç —â–æ –º–æ–∂–µ—à', '–±–æ—Ç –ø–æ–∫–∞–∂–∏ –∫–æ–º–∞–Ω–¥–∏',
      '–±–æ—Ç —è–∫—ñ –º–æ–∂–ª–∏–≤–æ—Å—Ç—ñ', '–±–æ—Ç —ñ–Ω—Å—Ç—Ä—É–∫—Ü—ñ—è', '–±–æ—Ç –¥–æ–ø–æ–º–æ–≥–∞', '–±–æ—Ç –¥–ª—è —á–æ–≥–æ —Ç–∏',
      '–±–æ—Ç —Ö—Ç–æ —Ç–∏', '–±–æ—Ç –ø—Ä–µ–¥—Å—Ç–∞–≤—Å—è', '–±–æ—Ç —â–æ –∑–∞ —Ñ—ñ—á—ñ', '–±–æ—Ç —â–æ –∑–∞ —à—Ç—É–∫–∞',
    ],
    en: [
      // Direct capability requests
      'what can you do', 'capabilities', 'features', 'commands', 'help',
      'what do you do', 'your features', 'bot capabilities', 'list commands',
      'show features', 'what are your functions', 'bot help',

      // Variations with "can"
      'what can you help with', 'what are you capable of', 'what can you assist',
      'what services do you provide', 'what functionality do you have',
      'what skills do you have', 'what do you know how to do',

      // Informal variants
      'what are you', 'who are you', 'what kind of bot', 'what type of bot',
      'show me what you got', 'what\'s your deal', 'what are you about',
      'tell me about yourself', 'introduce yourself', 'what do you offer',

      // Help seeking
      'how to use you', 'how do you work', 'how to interact with you',
      'how to call you', 'how to summon you', 'where are your commands',
      'manual', 'guide', 'instructions', 'documentation',

      // Skill questions
      'what are your skills', 'what did you learn', 'what are you trained for',
      'what abilities do you have', 'what do you understand', 'what can you help with',
      'what are your duties', 'what do you do here', 'what\'s your purpose',

      // General questions  
      'describe yourself', 'explain what you do', 'present yourself',
      'what kind of assistant', 'what type of helper', 'what sort of bot',

      // Context variations
      'bot what can you do', 'bot show capabilities', 'bot list features',
      'bot what functions', 'bot tell about yourself', 'bot what commands',

      // Slang and casual
      'whatcha got', 'what\'s up with you', 'what you about', 'show me your stuff',
      'what\'s your game', 'what you bring to the table', 'what\'s your thing'
    ]
  };

  detectCapabilityRequest(message: string): {
    isRequest: boolean;
    confidence: number;
    language: 'uk' | 'en';
    matchedTrigger?: string;
  } {
    try {
      // –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î–º–æ fuzzy matching –¥–ª—è —Ç–æ–ª–µ—Ä–∞–Ω—Ç–Ω–æ—Å—Ç—ñ –¥–æ –ø–æ–º–∏–ª–æ–∫
      const fuzzyResult = this.fuzzyMatcher.detectCapabilityRequest(message);
      
      if (fuzzyResult.isCapabilityRequest) {
        console.log(`Fuzzy match: "${fuzzyResult.matchedTrigger}" (–≤–ø–µ–≤–Ω–µ–Ω—ñ—Å—Ç—å: ${fuzzyResult.confidence})`);
        return {
          isRequest: true,
          confidence: fuzzyResult.confidence,
          language: fuzzyResult.language,
          matchedTrigger: fuzzyResult.matchedTrigger
        };
      }
    } catch (error) {
      console.warn('Fuzzy matcher error, falling back to old method:', error);
    }

    // Fallback –¥–æ —Å—Ç–∞—Ä–æ–≥–æ –º–µ—Ç–æ–¥—É —è–∫ —Ä–µ–∑–µ—Ä–≤–Ω–∏–π –≤–∞—Ä—ñ–∞–Ω—Ç
    const lowerMessage = message.toLowerCase();
    
    // Check Ukrainian triggers
    const ukrainianMatch = this.capabilityTriggers.uk.some(trigger =>
      lowerMessage.includes(trigger)
    );

    // Check English triggers  
    const englishMatch = this.capabilityTriggers.en.some(trigger =>
      lowerMessage.includes(trigger)
    );

    if (ukrainianMatch || englishMatch) {
      return {
        isRequest: true,
        confidence: 1.0,
        language: ukrainianMatch ? 'uk' : 'en'
      };
    }

    return {
      isRequest: false,
      confidence: 0,
      language: 'uk'
    };
  }

  generateCapabilitiesResponse(language: 'uk' | 'en' = 'uk', userName?: string): string {
    const greeting = userName ?
      (language === 'uk' ? `–ü—Ä–∏–≤—ñ—Ç, ${userName}! üëã` : `Hello, ${userName}! üëã`) :
      (language === 'uk' ? '–ü—Ä–∏–≤—ñ—Ç! üëã' : 'Hello! üëã');

    if (language === 'uk') {
      return `${greeting}

ü§ñ **–©–æ —è –≤–º—ñ—é:**

üí¨ **–°–ø—ñ–ª–∫—É–≤–∞–Ω–Ω—è**
‚Ä¢ –†–æ–∑–º–æ–≤–∏ —É–∫—Ä–∞—ó–Ω—Å—å–∫–æ—é
‚Ä¢ –†–æ–∑–ø—ñ–∑–Ω–∞—é –µ–º–æ—Ü—ñ—ó —ñ –Ω–∞—Å—Ç—Ä—ñ–π
‚Ä¢ –í—ñ–¥–ø–æ–≤—ñ–¥–∞—é –Ω–∞ @bot

üé≠ **–†–æ–∑–≤–∞–≥–∏**
‚Ä¢ –£–∫—Ä–∞—ó–Ω—Å—å–∫—ñ –∂–∞—Ä—Ç–∏
‚Ä¢ –ú–µ–º—ñ: /meme —Ç–µ–∫—Å—Ç | —Ç–µ–∫—Å—Ç
‚Ä¢ –†–µ–∞–∫—Ü—ñ—ó –Ω–∞ "–ø–æ—Ç—É–∂–Ω–æ" ‚ö°

üîß **–ö–æ—Ä–∏—Å–Ω–µ**
‚Ä¢ –ù–æ–≤–∏–Ω–∏ –£–∫—Ä–∞—ó–Ω–∏
‚Ä¢ –ü–æ–≥–æ–¥–∞ –≤ –º—ñ—Å—Ç–∞—Ö
‚Ä¢ –ö—É—Ä—Å–∏ –≤–∞–ª—é—Ç

üõ°Ô∏è **–ú–æ–¥–µ—Ä–∞—Ü—ñ—è**
‚Ä¢ –§—ñ–ª—å—Ç—Ä—É—é –Ω–µ—Ü–µ–Ω–∑—É—Ä—â–∏–Ω—É
‚Ä¢ –ü–æ–∑–∏—Ç–∏–≤–Ω–∞ –∞—Ç–º–æ—Å—Ñ–µ—Ä–∞ –≤ —á–∞—Ç—ñ

üë• **–°–æ—Ü—ñ–∞–ª—å–Ω–µ**
‚Ä¢ –ï–º–æ—Ü—ñ–π–Ω–∞ –ø—ñ–¥—Ç—Ä–∏–º–∫–∞
‚Ä¢ –ü—Ä–∏–∑–Ω–∞—á–∞—é —Ä–æ–ª—ñ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞–º
‚Ä¢ –†–µ–∞–∫—Ü—ñ—ó —Å–º–∞–π–ª–∏–∫–∞–º–∏

üì± **–Ø–∫ –≤–∏–∫–ª–∏–∫–∞—Ç–∏:**
‚Ä¢ @bot + –≤–∞—à–µ –ø–∏—Ç–∞–Ω–Ω—è
‚Ä¢ –í—ñ–¥–ø–æ–≤—ñ–¥—å –Ω–∞ –º–æ—î –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è
‚Ä¢ "–©–æ —Ç–∏ –º–æ–∂–µ—à?" "–ù–æ–≤–∏–Ω–∏?" "–ü–æ–≥–æ–¥–∞?"

‚öôÔ∏è **CLI –∫–æ–º–∞–Ω–¥–∏:**
‚Ä¢ @bot help - —Ü—è –¥–æ–≤—ñ–¥–∫–∞
‚Ä¢ @bot status - —Å—Ç–∞—Ç—É—Å —Ñ—É–Ω–∫—Ü—ñ–π

üí° _–ü—Ä–æ—Å—Ç–æ –ø–∏—à—ñ—Ç—å - —è —Ä–æ–∑—É–º—ñ—é!_ üá∫üá¶`;
    } else {
      return `${greeting}

ü§ñ **What I can do:**

üí¨ **Conversations**
‚Ä¢ Chat in Ukrainian/English
‚Ä¢ Emotion & mood recognition
‚Ä¢ Respond to @bot mentions

üé≠ **Entertainment**
‚Ä¢ Ukrainian jokes & stories
‚Ä¢ Memes: /meme text | text
‚Ä¢ React to power words ‚ö°

üîß **Utilities**
‚Ä¢ Ukrainian news updates
‚Ä¢ Weather for cities
‚Ä¢ Currency exchange rates

üõ°Ô∏è **Moderation**
‚Ä¢ Filter inappropriate content
‚Ä¢ Maintain positive atmosphere

üë• **Social**
‚Ä¢ Emotional support
‚Ä¢ User role assignments
‚Ä¢ Emoji reactions

üì± **How to call me:**
‚Ä¢ @bot + your question
‚Ä¢ Reply to my messages
‚Ä¢ "What can you do?" "News?" "Weather?"

‚öôÔ∏è **CLI commands:**
‚Ä¢ @bot help - this help
‚Ä¢ @bot status - features status

üí° _Just start typing - I understand!_ üá∫üá¶`;
    }
  }

  getCapabilityById(id: string): BotCapability | undefined {
    return this.capabilities.find(cap => cap.id === id);
  }

  getAllCapabilities(): BotCapability[] {
    return [...this.capabilities];
  }

  getCapabilitiesByCategory(category: string): BotCapability[] {
    return this.capabilities.filter(cap => cap.category === category);
  }
} 