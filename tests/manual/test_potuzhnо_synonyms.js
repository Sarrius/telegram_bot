#!/usr/bin/env node

// –¢–µ—Å—Ç –≤–∏–∫–ª—é—á–Ω–æ –¥–ª—è —Å–ª—ñ–≤-—Å–∏–Ω–æ–Ω—ñ–º—ñ–≤ "–ø–æ—Ç—É–∂–Ω–æ"
const { PotuzhnoPowerWordsDetector } = require('../../dist/domain/potuzhnoPowerWordsDetector');

console.log('‚ö° –¢–µ—Å—Ç—É–≤–∞–Ω–Ω—è —Å–ª—ñ–≤-—Å–∏–Ω–æ–Ω—ñ–º—ñ–≤ "–ü–û–¢–£–ñ–ù–û"');
console.log('='.repeat(50));

const detector = new PotuzhnoPowerWordsDetector();

// –°–ª–æ–≤–∞-—Å–∏–Ω–æ–Ω—ñ–º–∏ "–ø–æ—Ç—É–∂–Ω–æ" —è–∫—ñ –º–∞—é—Ç—å —Å–ø—Ä–∞—Ü—å–æ–≤—É–≤–∞—Ç–∏
const potuzhn–æSynonyms = [
    '–ø–æ—Ç—É–∂–Ω–æ',
    '–ø–æ—Ç—É–∂–Ω–∏–π',  
    '–ø–æ—Ç—É–∂–Ω–æ –ø—Ä–∞—Ü—é—î',
    '—Å—É–ø–µ—Ä',
    '—Å—É–ø–µ—Ä —Ä–µ–∑—É–ª—å—Ç–∞—Ç',
    '–º–µ–≥–∞',
    '–º–µ–≥–∞ –∫—Ä—É—Ç–∏–π',
    '—É–ª—å—Ç—Ä–∞',
    '—É–ª—å—Ç—Ä–∞ —à–≤–∏–¥–∫–æ',
    '—Ç–æ–ø',
    '—Ç–æ–ø —Ä–æ–±–æ—Ç–∞',
    '–º–æ–≥—É—Ç–Ω—ñ–π',
    '–º–æ–≥—É—Ç–Ω—å–æ',
    '—Å–∏–ª—å–Ω–∏–π',
    '—Å–∏–ª—å–Ω–æ',
    '–º—ñ—Ü–Ω–∏–π',
    '–º—ñ—Ü–Ω–æ',
    '–µ–Ω–µ—Ä–≥—ñ–π–Ω–∏–π',
    '–µ–Ω–µ—Ä–≥—ñ–π–Ω–æ',
    '–¥–∏–Ω–∞–º—ñ—á–Ω–∏–π',
    '–¥–∏–Ω–∞–º—ñ—á–Ω–æ',
    '–≤–æ–≥–Ω—è–Ω–∏–π',
    '–±–ª–∏—Å–∫–∞–≤–∏—á–Ω–∏–π',
    '–∫—Ä—É—Ç–∏–π',
    '–∫—Ä—É—Ç–æ',
    '–∫–ª–∞—Å–Ω–∏–π',
    '–∫–ª–∞—Å–Ω–æ',
    '–æ—Ñ—ñ–≥–µ–Ω–Ω–∏–π',
    '–æ—Ñ—ñ–≥–µ–Ω–Ω–æ',
    '–±–æ–º–±–µ–∑–Ω–∏–π',
    '–Ω–µ–π–º–æ–≤—ñ—Ä–Ω–∏–π',
    '–Ω–µ–π–º–æ–≤—ñ—Ä–Ω–æ'
];

// –¢–µ—Å—Ç—É—î–º–æ –∫–æ–∂–Ω–µ —Å–ª–æ–≤–æ
console.log('üîç –¢–µ—Å—Ç—É–≤–∞–Ω–Ω—è –¥–µ—Ç–µ–∫—Ç—É–≤–∞–Ω–Ω—è:');
console.log('');

let successCount = 0;
let totalCount = potuzhn–æSynonyms.length;

potuzhn–æSynonyms.forEach(word => {
    const bestMatch = detector.getBestPowerWordMatch(word);
    
    if (bestMatch) {
        const emoji = detector.getReactionEmoji(bestMatch);
        console.log(`‚úÖ "${word}"`);
        console.log(`   –í–∏—è–≤–ª–µ–Ω–æ: "${bestMatch.matchedWord}"`);
        console.log(`   –í–ø–µ–≤–Ω–µ–Ω—ñ—Å—Ç—å: ${(bestMatch.confidence * 100).toFixed(1)}%`);
        console.log(`   –†–µ–∞–∫—Ü—ñ—è: ${emoji}`);
        console.log(`   –ö–∞—Ç–µ–≥–æ—Ä—ñ—è: ${bestMatch.category}`);
        successCount++;
    } else {
        console.log(`‚ùå "${word}" - –ù–ï –í–ò–Ø–í–õ–ï–ù–û!`);
    }
    console.log('');
});

console.log('üìä –†–ï–ó–£–õ–¨–¢–ê–¢–ò:');
console.log(`‚úÖ –£—Å–ø—ñ—à–Ω–æ: ${successCount}/${totalCount} (${(successCount/totalCount*100).toFixed(1)}%)`);
console.log(`‚ùå –ü—Ä–æ–ø—É—â–µ–Ω–æ: ${totalCount - successCount}/${totalCount}`);

if (successCount === totalCount) {
    console.log('üéâ –í–°–Ü–• –°–õ–Ü–í –í–ò–Ø–í–õ–ï–ù–û! –î–µ—Ç–µ–∫—Ç–æ—Ä –ø—Ä–∞—Ü—é—î —ñ–¥–µ–∞–ª—å–Ω–æ.');
} else if (successCount > totalCount * 0.8) {
    console.log('üëç –ë—ñ–ª—å—à—ñ—Å—Ç—å —Å–ª—ñ–≤ –≤–∏—è–≤–ª–µ–Ω–æ. –î–µ—Ç–µ–∫—Ç–æ—Ä –ø—Ä–∞—Ü—é—î –¥–æ–±—Ä–µ.');
} else {
    console.log('‚ö†Ô∏è –ë–∞–≥–∞—Ç–æ —Å–ª—ñ–≤ –ø—Ä–æ–ø—É—â–µ–Ω–æ. –ü–æ—Ç—Ä—ñ–±–Ω–æ –ø–æ–∫—Ä–∞—â–∏—Ç–∏ –¥–µ—Ç–µ–∫—Ç–æ—Ä.');
}

console.log('');
console.log('üéØ –¶–µ —Ç–µ—Å—Ç —Å–∞–º–µ –¥–ª—è —Å–ª—ñ–≤-—Å–∏–Ω–æ–Ω—ñ–º—ñ–≤ "–ø–æ—Ç—É–∂–Ω–æ"');
console.log('‚ö° –Ø–∫—â–æ –≤—Å—ñ —Å–ª–æ–≤–∞ –≤–∏—è–≤–ª—è—é—Ç—å—Å—è - —Ä–µ–∞–∫—Ü—ñ—ó –º–∞—é—Ç—å –ø—Ä–∞—Ü—é–≤–∞—Ç–∏ –≤ Telegram!'); 